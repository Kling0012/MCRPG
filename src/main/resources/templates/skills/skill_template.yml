# ============================================
# RPGPlugin スキル テンプレート (v5 コンポーネント形式)
# ============================================
#
# これはv5形式のテンプレートです
# フローエディタで作成したスキルと同じ構造を使用します
#
# 使用方法:
# 1. このファイルをコピーして skills/ ディレクトリに配置
# 2. ファイル名と id, name, display_name を編集
# 3. 必要なコンポーネントを追加・修正
#
# ============================================

# 基本情報
id: template_skill
name: テンプレートスキル
type: normal
display_name: "&eテンプレートスキル"
description:
  - "&aスキルの説明をここに記述"
  - "&e複数行可能"

max_level: 5

# カスタム変数（数式で使用可能）
variables:
  base_value: 10.0
  scale_factor: 1.5

# ============================================
# コンポーネントベーススキルシステム
# ============================================
#
# v5形式では、全てのスキル効果は「コンポーネント」で定義されます
#
# コンポーネントタイプ:
#   - trigger   : トリガー（発動タイミング）
#   - target    : ターゲット（効果対象）
#   - condition : 条件（実行条件）
#   - mechanic  : メカニック（効果）
#   - cost      : コスト（消費）
#   - cooldown  : クールダウン
#
# ============================================

components:
  # トリガー: スキル発動時に実行
  - type: trigger
    component_id: CAST
    settings:
      cooldown: 5.0              # クールダウン（秒）

    # 子コンポーネント（トリガー発火時の効果）
    children:
      # ターゲット: 効果対象を指定
      - type: target
        component_id: SINGLE
        settings:
          range: 10.0
          max_targets: 1

        # コスト: MP/HP消費
        - type: cost
          component_id: MANA
          settings:
            base: 20
            per_level: 2
            min: 5
            max: 100

        # メカニック: ダメージを与える
        - type: mechanic
          component_id: DAMAGE
          settings:
            value: "10 + LEVEL * 2"
            stat: INTELLIGENCE
            multiplier: 1.0

# ============================================
# 各コンポーネントの詳細設定
# ============================================
#
# 【トリガー (trigger)】
#   CAST           : スキル使用時に即時実行（始動点）
#   CROUCH         : スニーク時
#   LAND           : 着地時（落下ダメージ時）
#   DEATH          : 死亡時
#   KILL           : エンティティを倒した時
#   PHYSICAL_DEALT : 物理ダメージを与えた時
#   PHYSICAL_TAKEN : 物理ダメージを受けた時
#   LAUNCH         : 投射物を発射した時
#   ENVIRONMENTAL  : 環境ダメージを受けた時（落下、炎、溺等）
#
# 【ターゲット (target)】
#   SELF           : 自分自身
#   SINGLE         : 単体ターゲット
#   CONE           : コーン状範囲
#   SPHERE         : 球形範囲
#   SECTOR         : 扇形範囲
#   AREA           : 指定座標範囲
#   LINE           : 直線状範囲
#   NEAREST_HOSTILE: 最寄りの敵
#
# 【条件 (condition)】
#   health : HP条件（min, max, percent）
#   mana   : MP条件（min, max）
#   chance : 確率（chance: 0.0-1.0）
#   biome  : バイオーム
#   class  : クラス条件
#   time   : 時間帯（day, night, dawn, dusk, noon, midnight）
#   armor  : 防具条件
#   fire   : 炎上状態
#   water  : 水中状態
#   combat : 戦闘状態
#   potion : ポーション効果
#   status : ステータス値（health, max_health, food, air, exp, level）
#   tool   : ツール条件
#
# 【メカニック (mechanic)】
#   damage   : ダメージ（value）
#   heal     : 回復（value）
#   push     : ノックバック（value）
#   fire     : 炎上（duration）
#   message  : メッセージ（text）
#   potion   : ポーション効果（potion, duration, amplifier）
#   lightning: 稲妻（damage, forward, right）
#   sound    : サウンド（sound, volume, pitch）
#   command  : コマンド実行（command, type: op/console/player）
#   explosion: 爆発（power, fire, damage）
#   speed    : 移動速度（duration, amplifier）
#   particle : パーティクル（particle, count, offset, speed）
#   launch   : 投射物発射（projectile, speed, spread）
#   delay    : 遅延実行（delay, ticks）
#   cleanse  : ポーション効果解除（bad_only, potion）
#   channel  : 詠唱中（duration, ticks）
#
# 【コスト (cost)】
#   MANA    : MP消費（base, per_level, min, max）
#   HP      : HP消費
#   STAMINA : スタミナ消費
#   ITEM    : アイテム消費（item, amount）
#
# 【クールダウン (cooldown)】
#   COOLDOWN: クールダウン（base, per_level, min）
#
# ============================================

# ============================================
# 設定例
# ============================================
#
# 【単純な攻撃スキル】
# components:
#   - type: trigger
#     component_id: CAST
#     children:
#       - type: target
#         component_id: SINGLE
#         children:
#           - type: mechanic
#             component_id: DAMAGE
#             settings:
#               value: "10 + LEVEL * 2"
#
# 【条件付きスキル - HPが50%以下の時に追加ダメージ】
# components:
#   - type: trigger
#     component_id: CAST
#     children:
#       - type: target
#         component_id: SINGLE
#         children:
#           - type: mechanic
#             component_id: DAMAGE
#             settings:
#               value: "10 + LEVEL * 2"
#           - type: condition
#             component_id: health
#             settings:
#               max: 0.5
#             children:
#               - type: mechanic
#                 component_id: DAMAGE
#                 settings:
#                   value: "5 + LEVEL"
#
# 【確率で発動するスキル - 30%の確率で炎上】
# components:
#   - type: trigger
#     component_id: CAST
#     children:
#       - type: target
#         component_id: SINGLE
#         children:
#           - type: condition
#             component_id: chance
#             settings:
#               chance: 0.3
#             children:
#               - type: mechanic
#                 component_id: FIRE
#                 settings:
#                   duration: "3 + LEVEL"
#
# 【範囲攻撃スキル - コーン状範囲】
# components:
#   - type: trigger
#     component_id: CAST
#     children:
#       - type: target
#         component_id: CONE
#         settings:
#           angle: 90
#           range: 5.0
#           max_targets: 5
#         children:
#           - type: mechanic
#             component_id: DAMAGE
#             settings:
#               value: "8 + LEVEL"
#
# 【トリガースキル - 着地時に周囲にダメージ】
# components:
#   - type: trigger
#     component_id: LAND
#     settings:
#       duration: 10              # 登録後10秒間有効
#     children:
#       - type: target
#         component_id: SPHERE
#         settings:
#           radius: 5.0
#         children:
#           - type: mechanic
#             component_id: DAMAGE
#             settings:
#               value: "5 + LEVEL"
#
# ============================================

# アイコンマテリアル（GUI表示用、省略時はデフォルト）
icon_material: DIAMOND_SWORD

# 使用可能なクラス（省略時は全クラスで使用可能）
available_classes:
  - warrior
  - knight
  - mage

# ============================================
# スキルツリー設定
# ============================================
skill_tree:
  parent: none                  # 親スキルID
  unlock_requirements:
    - type: level               # 必要プレイヤーレベル
      value: 5
    - type: stat                # 必要ステータス
      stat: STRENGTH
      value: 30
    - type: class               # 必要クラス
      value: warrior
    - type: skill               # 必要スキルID
      value: basic_attack
  cost: 50                      # スキルポイントコスト
  icon: DIAMOND_SWORD           # GUI表示用アイコン

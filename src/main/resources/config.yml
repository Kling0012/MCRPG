# RPGPlugin メイン設定ファイル
# 設定を変更した場合は /rpg reload コマンドでリロードしてください

# ================================
# データベース設定
# ================================
database:
  # データベースファイルのパス
  path: "data/database.db"

  # コネクションプールサイズ
  pool_size: 10

  # 非同期保存を有効化
  async_save: true

  # 自動保存間隔（秒）
  auto_save_interval: 300

# ================================
# キャッシュ設定
# ================================
cache:
  # L2キャッシュの最大サイズ
  # 推奨値: 50人サーバー: 500-1000, 150人サーバー: 1500-2250
  l2_max_size: 2000

  # L2キャッシュのTTL（分）
  # アクセス時間ベースの場合は expire_after_access を使用
  l2_ttl_minutes: 10

  # アクセス時間ベースのTTLを使用するか（推奨: true）
  # true: 最後のアクセスからTTL経過で期限切れ
  # false: 書き込みからTTL経過で期限切れ
  expire_after_access: true

  # キャッシュ統計のログ出力間隔（秒）
  # 0で無効、300(5分)推奨
  stats_logging_interval: 300

  # キャッシュヒットログ出力（デバッグ用）
  hit_logging: false

  # プレイヤーデータのバッチ保存サイズ
  # 非同期保存時のバッチサイズ
  batch_save_size: 50

# ================================
# 経験値減衰
# ================================
exp_diminish:
  # 減衰システムを有効化
  enabled: true

  # 減衰開始レベル（クラス設定で上書き可）
  start_level: 30

  # 軽減率（0.0 - 1.0）（クラス設定で上書き可）
  reduction_rate: 0.5

  # 軽減率の増加（レベルごと）
  reduction_increment: 0.01

  # 減衰除外設定
  exemptions:
    # プレイヤーキルによる経験値は減衰対象外
    player_kills: true

    # ボスモブからの経験値は減衰対象外
    boss_mobs: true

    # イベント報酬は減衰対象外
    event_rewards: true

# ================================
# クラスシステム
# ================================
classes:
  # クラス選択を有効化
  enabled: true

  # クラス変更のクールダウン（秒）
  change_cooldown: 86400

  # クラス変更時にリセットするステータス
  reset_on_change:
    - exp
    - level

# ================================
# スキルシステム
# ================================
skills:
  # スキルを有効化
  enabled: true

  # スキルクールダウンの表示
  show_cooldown: true

  # スキルのマナコストを有効化
  mana_cost: true

  # スキル発動メッセージ
  messages:
    # スキル発動成功メッセージを表示
    show_cast_success: true

    # MP消費メッセージを表示
    show_mana_consume: true

    # HP消費メッセージを表示
    show_hp_consume: true

    # MP不足メッセージを表示
    show_mana_insufficient: true

    # HP不足メッセージを表示
    show_hp_insufficient: true

# ================================
# デバッグ設定
# ================================
debug:
  # ログレベル (SEVERE, WARNING, INFO, CONFIG, FINE, FINER, FINEST)
  log_level: "INFO"

  # 詳細ログ出力
  verbose: false

  # パフォーマンスログ出力
  performance_logging: false

  # 経験値変化のログ出力
  log_exp_changes: false

  # 経験値減衰のログ出力
  log_exp_diminish: false

  # レベルアップ時にタイトルを表示
level_up:
  show_title: true
  play_sound: true

# ================================
# ホットリロード設定
# ================================
hot_reload:
  # クラス定義のホットリロードを有効化
  classes: true

  # スキル定義のホットリロードを有効化
  skills: true

  # 減衰設定のホットリロードを有効化
  exp_diminish: true

  # モブドロップ設定のホットリロードを有効化
  mobs: true

  # テンプレートファイルのホットリロードを有効化
  # テンプレートファイルの編集を監視するかどうか
  templates: false

# ================================
# ダメージ計算設定
# ================================
damage:
  # ダメージ計算を有効化
  enabled: true

  # 外部YAML設定を使用するか
  use_external_config: true

  # ダメージ設定ファイルのパス
  config_file: "damage_config.yml"

  # 最終ダメージのログ出力（デバッグ用）
  log_final_damage: false
